
<!-- gonna make mill animation using canvas and javascript -->

<head>
    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
</head>

<canvas id="gameCanvas" width="500px" height="200px"></canvas>

<script>

    var context = $('#gameCanvas')[0].getContext("2d");

    var drawLine = function (x0, y0, x1, y1) {
        context.beginPath();
        context.moveTo(x0, y0);
        context.lineTo(x1, y1);
        context.stroke();
    };

    var fillRect = function (x,y,w,h,color) {

        context.beginPath();
        context.rect(x, y, w, h);
        context.fillStyle = "rgba(" + color.join(',') + ", 1)";
        context.fill();

        context.strokeStyle = 'black';
        return context;
    };

    var repaintMill = function () {

        fillRect(0,0,500,200, [255,255,255]);

        var millis = window.performance.now();

        /** @debug */
        console.log(millis);

        var x0 = 250;
        var y0 = 100;

        var x = x0 + Math.sin(millis / 1000) * 50;
        var y = y0 + Math.sin(millis / 1000) * 50;

        drawLine(x0, y0, x, y);
    };

    var iteration = function () {
        repaintMill();
        setTimeout(iteration, 1000);
    };
    iteration();

</script>